<div class="container">
    <div class="row">
        <div class="col-lg-7 col-sm-12 " style="height: 700px;border-radius: 5px;" >
            <div class="row" style="margin-top: 0px; border: 1px solid; border-radius: 5px; margin: 10px;" *ngFor="let product of basket">
            <div class="row" style="margin-left: 10px;" >
                <div class="d-flex justify-content-center" style="margin-top: 5px;">
                    <div class="d-flex rating-container" style="color: green; border: 1px solid; text-align: center; max-width: 65px; border-radius: 5px; padding-left: 5px; padding-right: 5px;">
                        <p style="margin: 0;">{{product.productRating}} </p>
                        <i class="bi bi-star"></i>
                    </div>
                    <div class="d-flex rating-container" style="color: green; border: 1px solid; text-align: center; max-width: 120px; border-radius: 5px; padding-left: 5px; padding-right: 5px; margin-left: 10px;">
                        <p style="margin: 0;">Available: {{product.AvalibleQuantity}} KG</p>
                    </div>
                </div>
            </div>
            <div class="row align-items-center">
                <div class="col-4">
                    <h3 style="margin-right: 10px;padding-top: 20px;font-weight: bold;">{{product.productName}}</h3>
                </div>
                <div class="col-md-4">
                    <div class="d-flex" style="text-decoration: none;justify-content: center;">
                        <button class="btn " (click)="quantitydecresed(product.productId)" style="width: 30px;border: 1px solid;  height: 30px;  font-weight: bold;border-radius: 0px;border-right: 0px;">-</button>
                        <input type="text" class="form-control" disabled [ngModel]="product.productQuantity" style="width: 45px;height: 30px; border: none; background-color: transparent; text-align: center;border-top: 1px solid;border-bottom: 1px solid;border-radius:0px;">
                        <button class="btn " (click)="quantityIncresend(product.productId)" style="width: 30px; height: 30px;border: 1px solid;  font-weight: bold;border-radius: 0px;border-left: 0px;">+</button>
                    </div>
                </div>
                <div class="col-md-4 text-end" style="padding-top: 15px;">
                    <p>
                        <i class="bi bi-currency-rupee"></i> {{product.productPrice * product.productQuantity}}
                    </p>
                </div>
            </div>
        </div>
        </div>
        <div class="col-lg-5">
            <div class="row">
                <div style="margin-top: 30px;width: 350px;" class="d-flex" *ngIf="!couponapplied">
                    <input type="text" placeholder="Coupon" [(ngModel)]="couponCode" (change)="removecouponerror()"  class="form-control text-center" style="width:200px ;border-right: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;" >
                    <button type="button" (click)="applyCoupon()" class="form-control btn btn-success" style="width:120px ;border-left: 1px;border-top-left-radius: 0%;border-bottom-left-radius: 0%;border-left: 1px solid;" >Apply</button>
                </div>
                <div style="margin-top: 30px;width: 270px;" class="d-flex" *ngIf="couponapplied">
                    <input type="text" disabled [value]="coupon.coupon"  class="form-control text-center" style="width:200px ;border-right: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;" >
                    <button type="button" (click)="removeCoupon()" class="form-control btn btn-danger" style="width:70px ;border-left: 1px;border-top-left-radius: 0%;border-bottom-left-radius: 0%;border-left: 1px solid;" >X</button>
                </div>
                <div style="color: red;" *ngIf="couponError">
                    <p>{{couponError}}</p>
                </div>
            </div>
            <div class="row">
                <table class="table" style="margin-top: 50px;">
                    <tbody>
                        <tr >
                            <td>
                                Total Amount:
                            </td>
                            <td>
                                <i class="bi bi-currency-rupee"></i> {{priceDetails.totalAmount}} 
                            </td>
                        </tr>
                        <tr *ngIf="priceDetails.totalDiscount">
                            <td>
                                Total Discount:
                            </td>
                            <td>
                                <i class="bi bi-currency-rupee"></i>  -{{priceDetails.totalDiscount}} 
                            </td>
                        </tr>
                        <tr >
                            <td>
                                Payable Amount:
                            </td>
                            <td>
                                <i class="bi bi-currency-rupee"></i>  {{priceDetails.totalAmount-priceDetails.totalDiscount}} 
                            </td>
                        </tr>
                        <!-- <tr >
                            <td></td>
                            <td>
                               <button class="btn btn-success">Place Order</button>
                            </td>
                            
                        </tr> -->
                    </tbody>

                </table>
            </div>
            <div class="row text-center" style="">
                <div class="col-12">
                    <button class="btn btn-success" (click)="placeorder()" style="width: 50%;">Place Order</button>
                </div>
            </div>

        </div>
    </div>
</div>
