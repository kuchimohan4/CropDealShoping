<div
    style="background-image: url('assets/images/backgroun1.webp'); height: 100vh; width: 100vw; background-repeat: no-repeat; background-size: cover;">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-md-1"></div>
            <div class="col-lg-4 col-md-10 d-flex flex-column"
                style="background-color: #ced5de; border-radius: 5%; height: 600px; margin-top: 80px;">

                <form class="form-group mt-auto" [formGroup]="loginForm" (ngSubmit)="loginsignup()" style="margin-bottom: 100px;" *ngIf="!isVerifingOtp">
                    <div class="row justify-content-center" *ngIf="!logingIn">
                        <div class="row mb-2 " style="padding-top: 200px;width: 80%;justify-content: center;">
                            <input type="text" name="Name" formControlName="Name" id="Name" placeholder="NameL" class="form-control"
                                style="border: none; border-bottom: 1px solid; background-color: transparent;">
                        </div>
                    </div>
                    <div class="row justify-content-center">
                        <div class="row mb-2 " style="width: 80%;justify-content: center;">
                            <input type="email" name="email" id="email" formControlName="email" placeholder="E-MAIL" class="form-control"
                                style="border: none; border-bottom: 1px solid; background-color: transparent;">
                        </div>
                    </div>
                    <div class="row justify-content-center">
                        <div class="row mb-2 " style="width: 80%;justify-content: center;">
                            <input type="password" name="password" id="password" formControlName="password" placeholder="Password" class="form-control"
                                style="border: none; border-bottom: 1px solid; background-color: transparent;">
                                <div *ngIf="loginForm.controls['password'].invalid && loginForm.controls['password'].touched" class="text-danger">
                                    Password must contain at least 1 lowercase character, 1 uppercase character, 1 digit, and 1 special character.
                                </div>
                        </div>
                    </div>
                    <div class="row justify-content-center" *ngIf="!logingIn">
                        <div class="row mb-2 " style="width: 80%;justify-content: center;">
                            <input type="password" name="confirmPassword" formControlName="confirmPassword" id="confirmPassword" placeholder="confirm password" class="form-control"
                                style="border: none; border-bottom: 1px solid; background-color: transparent;">
                                <div *ngIf="loginForm.hasError('passwordMismatch') && loginForm.get('confirmPassword')?.touched" class="text-danger">
                                    Passwords do not match.
                                  </div>
                        </div>
                    </div>
                    <div class="row justify-content-center" *ngIf="!logingIn">
                        <div class="col-auto">
                          <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" formControlName="Role" name="Role" id="Dealer" value="DEALER">
                            <label class="form-check-label" for="Dealer">Dealer</label>
                          </div>
                        </div>
                        <div class="col-auto">
                          <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" formControlName="Role" name="Role" id="Farmer" value="FARMER">
                            <label class="form-check-label" for="Farmer">Farmer</label>
                          </div>
                        </div>
                      </div>
                      <div class="row justify-content-center">
                        <div class="row mb-2 " style="width: 80%;justify-content: center;">
                            <button type="submit" [disabled]="!loginForm.valid"  class="btn btn-success"> {{ logingIn ? "Login":"Register" }} </button>
                        </div>
                    </div>
                    <div class="row justify-content-center" style="padding-bottom: 0px;">
                        <div class="row mb-2 " style="width: 80%;justify-content: center;">
                            <p *ngIf="!logingIn">Already have an account ? <a routerLink="/login">Login</a> </p>
                            <p *ngIf="logingIn">Don't have an account ? <a  [routerLink]="['/login']" [queryParams]="{ type: 'signup' }">Register</a> </p>
                        </div>
                    </div>
                    
                      
                </form>

                <form  class="form-group mt-auto" [formGroup]="otpForm" (ngSubmit)="submitOtp()" style="margin-bottom: 120px;" *ngIf="isVerifingOtp">
                    <div class="text-center mt-2">
                        <p>Otp has been sent to your mail.<br> Enter the otp</p>
                      </div>
                    <div class="input-container d-flex flex-row justify-content-center mt-2" >
                        <input type="text" inputmode="numeric" formControlName="otp1"   class="m-1 text-center form-control rounded" name="otp1" id="otp1" style="width: 10%;" maxlength="1" required>
                        <input type="text" inputmode="numeric" formControlName="otp2"   class="m-1 text-center form-control rounded" name="otp2" id="otp2" style="width: 10%;" maxlength="1" required>
                        <input type="text" inputmode="numeric" formControlName="otp3"  class="m-1 text-center form-control rounded" name="otp3" id="otp3" style="width: 10%;" maxlength="1" required>
                        <input type="text" inputmode="numeric" formControlName="otp4"  class="m-1 text-center form-control rounded" name="otp4" id="otp4" style="width: 10%;" maxlength="1" required>
                        <input type="text" inputmode="numeric" formControlName="otp5"  class="m-1 text-center form-control rounded" name="otp5" id="otp5" style="width: 10%;" maxlength="1" required>
                        <input type="text" inputmode="numeric" formControlName="otp6"  class="m-1 text-center form-control rounded" name="otp6" id="otp6" style="width: 10%;" maxlength="1" required>
                      </div>
                      <div class="input-container d-flex flex-row justify-content-center mt-2" >
                        <button type="submit" [disabled]="!otpForm.valid"  class="btn btn-success">Verify</button>
                      </div>
                      <div class="text-center mt-2">
                        <p>didn't get an otp ? <a href="">Re Send</a></p>
                      </div>
                </form>
               

            </div>
        </div>
    </div>
</div>